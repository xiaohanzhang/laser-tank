(this.webpackJsonplasertank=this.webpackJsonplasertank||[]).push([[0],{30:function(e,t,n){e.exports=n(51)},39:function(e,t,n){},40:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),i=n.n(c),o=n(15),l=n.n(o),s=n(10),u=(n(39),n(40),n(28)),d=n(7),O=n(3),b=n(4),h=n(8),f=n(1),v=n(13),j=n(9),R=n(5),T=n(2),E=n(6);!function(e){e[e.FLAG=1]="FLAG",e[e.DIRT=2]="DIRT",e[e.WATER=3]="WATER",e[e.MOVABLE_BLOCK_WATER=4]="MOVABLE_BLOCK_WATER",e[e.ICE=5]="ICE",e[e.THIN_ICE=6]="THIN_ICE",e[e.TANK_MOVER_N=7]="TANK_MOVER_N",e[e.TANK_MOVER_S=8]="TANK_MOVER_S",e[e.TANK_MOVER_E=9]="TANK_MOVER_E",e[e.TANK_MOVER_W=10]="TANK_MOVER_W",e[e.TUNNEL=11]="TUNNEL"}(a||(a={})),function(e){e[e.BRICKS=32]="BRICKS",e[e.SOLID_BLOCK=33]="SOLID_BLOCK",e[e.CRYSTAL_BLOCK=34]="CRYSTAL_BLOCK",e[e.MOVABLE_BLOCK=35]="MOVABLE_BLOCK",e[e.ANTI_TANK_N=36]="ANTI_TANK_N",e[e.ANTI_TANK_S=37]="ANTI_TANK_S",e[e.ANTI_TANK_W=38]="ANTI_TANK_W",e[e.ANTI_TANK_E=39]="ANTI_TANK_E",e[e.ANTI_TANK_DEAD_N=40]="ANTI_TANK_DEAD_N",e[e.ANTI_TANK_DEAD_S=41]="ANTI_TANK_DEAD_S",e[e.ANTI_TANK_DEAD_W=42]="ANTI_TANK_DEAD_W",e[e.ANTI_TANK_DEAD_E=43]="ANTI_TANK_DEAD_E",e[e.MIRROR_NW=44]="MIRROR_NW",e[e.MIRROR_NE=45]="MIRROR_NE",e[e.MIRROR_SE=46]="MIRROR_SE",e[e.MIRROR_SW=47]="MIRROR_SW",e[e.ROTARY_MIRROR_NW=48]="ROTARY_MIRROR_NW",e[e.ROTARY_MIRROR_NE=49]="ROTARY_MIRROR_NE",e[e.ROTARY_MIRROR_SE=50]="ROTARY_MIRROR_SE",e[e.ROTARY_MIRROR_SW=51]="ROTARY_MIRROR_SW"}(r||(r={}));var _,p=function(e,t){return e===t||!!e&&!!t&&e.x===t.x&&e.y===t.y},A=function(e,t){if(e.x!==t.x||e.y!==t.y){if(e.x===t.x)return e.y>t.y?_.UP:_.DOWN;if(e.y===t.y)return e.x>t.x?_.LEFT:_.RIGHT}return null},y=function(e){var t;return(t={},Object(O.a)(t,_.UP,_.DOWN),Object(O.a)(t,_.DOWN,_.UP),Object(O.a)(t,_.LEFT,_.RIGHT),Object(O.a)(t,_.RIGHT,_.LEFT),t)[e]},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(null===e.laser||n)&&(e.laser=t,p(t,e.tank)&&(e.status="FAIL"))},m=function(e,t){var n=e.x,a=e.y,r=Object(f.get)(t,"".concat(a,".").concat(n));return!(!r||r.object)},g=function(e){var t,n=e.x,a=e.y,r=e.direction;return(t={},Object(O.a)(t,_.UP,{x:n,y:a-1,direction:r}),Object(O.a)(t,_.DOWN,{x:n,y:a+1,direction:r}),Object(O.a)(t,_.RIGHT,{x:n+1,y:a,direction:r}),Object(O.a)(t,_.LEFT,{x:n-1,y:a,direction:r}),t)[r]},k=function(){function e(){Object(b.a)(this,e),this.css=""}return Object(h.a)(e,[{key:"handleLeaving",value:function(e,t){}},{key:"pending",value:function(e,t,n,a){e.pending.push({from:t,to:n})}}],[{key:"createEmptyBoard",value:function(){return Object(f.range)(0,de).map((function(){return Object(f.range)(0,de).map((function(){return{background:a.DIRT}}))}))}},{key:"getBackgroundClass",value:function(e){var t;return(t={},Object(O.a)(t,a.FLAG,te),Object(O.a)(t,a.DIRT,$),Object(O.a)(t,a.WATER,ne),Object(O.a)(t,a.MOVABLE_BLOCK_WATER,Q),Object(O.a)(t,a.ICE,ae),Object(O.a)(t,a.THIN_ICE,re),Object(O.a)(t,a.TANK_MOVER_N,ce),Object(O.a)(t,a.TANK_MOVER_S,ie),Object(O.a)(t,a.TANK_MOVER_E,le),Object(O.a)(t,a.TANK_MOVER_W,oe),Object(O.a)(t,a.TUNNEL,ee),t)[e]}},{key:"getObstacleClass",value:function(e){var t;return(t={},Object(O.a)(t,r.BRICKS,L),Object(O.a)(t,r.SOLID_BLOCK,x),Object(O.a)(t,r.CRYSTAL_BLOCK,J),Object(O.a)(t,r.MOVABLE_BLOCK,S),Object(O.a)(t,r.ANTI_TANK_N,M),Object(O.a)(t,r.ANTI_TANK_S,F),Object(O.a)(t,r.ANTI_TANK_W,D),Object(O.a)(t,r.ANTI_TANK_E,K),Object(O.a)(t,r.ANTI_TANK_DEAD_N,W),Object(O.a)(t,r.ANTI_TANK_DEAD_S,w),Object(O.a)(t,r.ANTI_TANK_DEAD_W,C),Object(O.a)(t,r.ANTI_TANK_DEAD_E,B),Object(O.a)(t,r.MIRROR_NW,P),Object(O.a)(t,r.MIRROR_NE,U),Object(O.a)(t,r.MIRROR_SE,V),Object(O.a)(t,r.MIRROR_SW,H),Object(O.a)(t,r.ROTARY_MIRROR_NW,Y),Object(O.a)(t,r.ROTARY_MIRROR_NE,G),Object(O.a)(t,r.ROTARY_MIRROR_SE,z),Object(O.a)(t,r.ROTARY_MIRROR_SW,X),t)[e]}},{key:"getBackground",value:function(e){return new(this.getBackgroundClass(e.background))}},{key:"getObstacle",value:function(e){return e.object?new(this.getObstacleClass(e.object)):null}},{key:"checkLaser",value:function(e){var t=e.laser,n=e.tank,a=e.board;if(t){var r,c=g(t),i=Object(f.get)(a,[c.y,c.x]);if(i)if(e.laser=c,p(c,n))e.status="FAIL";else null===(r=this.getObstacle(i))||void 0===r||r.handleLaser(e,c);else e.laser=null;e.laser||this.checkFire(e)}}},{key:"checkPending",value:function(e){var t=this,n=e.pending;"FAIL"!==e.status&&(e.pending=[],Object(f.each)(Object(f.reverse)(n),(function(n){var a=n.from,r=n.to;t.handlePending(e,a,r)})),e.pending=Object(f.reverse)(e.pending))}},{key:"handlePending",value:function(e,t,n){var a=e.board,r=Object(f.get)(a,[n.y,n.x]);if(t){var c=Object(f.get)(a,[t.y,t.x]);this.getBackground(c).handleLeaving(e,t)}return this.getBackground(r).handleLanding(e,t,n),"FAIL"!==e.status}},{key:"checkTank",value:function(e,t){var n=e.board,a=e.tank,r=n[a.y][a.x];if("FAIL"!==e.status){r.object||this.checkFire(e);var c=this.getBackground(n[a.y][a.x]);c.shouldCheckTank(e,t)&&c.handleTank(e,!1)}}},{key:"checkFire",value:function(e){var t=this,n=e.board,a=e.tank;n[a.y][a.x].object||"FAIL"===e.status||Object(f.each)([_.RIGHT,_.LEFT,_.DOWN,_.UP],(function(r){return function(e,t,n){for(var a=g(t);a.x<de&&a.y<de&&a.x>=0&&a.y>=0&&!1!==n(e[a.y][a.x],a);)a=g(a)}(n,Object(d.a)({},a,{direction:r}),(function(n,a){var r;return null===(r=t.getObstacle(n))||void 0===r?void 0:r.sawTank(e,a)})),"FAIL"!==e.status}))}},{key:"cleanUp",value:function(e){var t=this,n=e.cleanUp,a=e.board;e.cleanUp=[],Object(f.each)(n,(function(n){t.getBackground(a[n.y][n.x]).cleanUp(e,n)}))}},{key:"moveTank",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.board,o=t.tank,l=i[n.y][n.x],s=e.getBackground(l);t.prevTank=Object(d.a)({},o),m(n,t.board)&&(o.x=n.x,o.y=n.y,t.rendering=!0,l.background===a.TUNNEL&&s.handleTankMove(t),e.checkFire(t),"FAIL"!==t.status&&(r?s.handleTank(t,!0):c||s.skipTank(t)))}},{key:"getObstacleCss",value:function(e){var t;return null===(t=this.getObstacle(e))||void 0===t?void 0:t.css}},{key:"getBackgroundCss",value:function(e){var t;return null===(t=this.getBackground(e))||void 0===t?void 0:t.css}}]),e}(),I=function(e){function t(){return Object(b.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLaser",value:function(e,t){e.laser=null}},{key:"sawTank",value:function(e,t){return!1}},{key:"skipLaser",value:function(e){}},{key:"handleMove",value:function(e,t,n,r){var c=e.board,i=e.pending,o=c[t.y][t.x];n||(n=g(t));var l=i.findIndex((function(e){return p(e.to,t)}));if(l>-1&&i.splice(l,1),o.object&&m(n,c)){var s=Object(f.get)(c,[n.y,n.x]);s.object=o.object,delete o.object,s.background===a.TUNNEL?k.handlePending(e,t,n):k.getBackground(s).pending(e,t,n,r)}}}]),t}(k),L=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="BRICKS",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLaser",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleLaser",this).call(this,e,n),delete e.board[n.y][n.x].object}}]),t}(I),x=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="SOLID_BLOCK",n}return Object(E.a)(t,e),t}(I),S=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="MOVABLE_BLOCK",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLaser",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleLaser",this).call(this,e,n),this.handleMove(e,n,null,!0)}}]),t}(I),M=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ANTI_TANK_N",n.dead=r.ANTI_TANK_DEAD_N,n.dead_direction=_.DOWN,n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLaser",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleLaser",this).call(this,e,n),n.direction===this.dead_direction?e.board[n.y][n.x].object=this.dead:this.handleMove(e,n,null,!0)}},{key:"sawTank",value:function(e,n){var a=e.tank,r=y(this.dead_direction);return A(n,a)===r&&N(e,g(Object(d.a)({},n,{direction:r}))),Object(j.a)(Object(T.a)(t.prototype),"sawTank",this).call(this,e,n)}}]),t}(I),F=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ANTI_TANK_S",n.dead=r.ANTI_TANK_DEAD_S,n.dead_direction=_.UP,n}return Object(E.a)(t,e),t}(M),K=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ANTI_TANK_E",n.dead=r.ANTI_TANK_DEAD_E,n.dead_direction=_.LEFT,n}return Object(E.a)(t,e),t}(M),D=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ANTI_TANK_W",n.dead=r.ANTI_TANK_DEAD_W,n.dead_direction=_.RIGHT,n}return Object(E.a)(t,e),t}(M),W=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="ANTI_TANK_DEAD_N",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLaser",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleLaser",this).call(this,e,n),this.handleMove(e,n,n,!0)}}]),t}(I),w=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="ANTI_TANK_DEAD_S",n}return Object(E.a)(t,e),t}(W),C=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="ANTI_TANK_DEAD_W",n}return Object(E.a)(t,e),t}(W),B=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="ANTI_TANK_DEAD_E",n}return Object(E.a)(t,e),t}(W),P=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="MIRROR_NW",n.directions=[_.UP,_.LEFT],n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLaser",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleLaser",this).call(this,e,n),-1!==this.directions.indexOf(n.direction)?this.hitBack(e,n):this.hitMirror(e,n)}},{key:"getFireDirections",value:function(){return[y(this.directions[0]),y(this.directions[1])]}},{key:"hitBack",value:function(e,t){this.handleMove(e,t,null,!0)}},{key:"hitMirror",value:function(e,t){var n=e.pending.find((function(e){e.from;var n=e.to;return p(n,t)})),r=this.getFireDirections(),c=this.directions[1-r.indexOf(t.direction)];N(e,Object(d.a)({},t,{direction:c}),!0),n&&[a.ICE,a.THIN_ICE].includes(e.board[t.y][t.x].background)&&k.checkLaser(e)}}]),t}(I),U=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="MIRROR_NE",n.directions=[_.UP,_.RIGHT],n}return Object(E.a)(t,e),t}(P),V=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="MIRROR_SE",n.directions=[_.DOWN,_.RIGHT],n}return Object(E.a)(t,e),t}(P),H=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="MIRROR_SW",n.directions=[_.DOWN,_.LEFT],n}return Object(E.a)(t,e),t}(P),Y=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ROTARY_MIRROR_NW",n.directions=[_.UP,_.LEFT],n.next_direction=r.ROTARY_MIRROR_NE,n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"hitBack",value:function(e,t){e.board[t.y][t.x].object=this.next_direction}}]),t}(P),G=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ROTARY_MIRROR_NE",n.directions=[_.UP,_.RIGHT],n.next_direction=r.ROTARY_MIRROR_SE,n}return Object(E.a)(t,e),t}(Y),z=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ROTARY_MIRROR_SE",n.directions=[_.DOWN,_.RIGHT],n.next_direction=r.ROTARY_MIRROR_SW,n}return Object(E.a)(t,e),t}(Y),X=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).css="ROTARY_MIRROR_SW",n.directions=[_.DOWN,_.LEFT],n.next_direction=r.ROTARY_MIRROR_NW,n}return Object(E.a)(t,e),t}(Y),J=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="CRYSTAL_BLOCK",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLaser",value:function(e,t){}}]),t}(I),q=function(e){function t(){return Object(b.a)(this,t),Object(R.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLanding",value:function(e,t,n){}},{key:"handleTank",value:function(e,t){}},{key:"handleTankMove",value:function(e){}},{key:"skipTank",value:function(e){}},{key:"cleanUp",value:function(e,t){}},{key:"shouldSkip",value:function(e,t){return!1}},{key:"shouldCheckTank",value:function(e,t){return!0}}]),t}(k),$=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="DIRT",n}return Object(E.a)(t,e),t}(q),Q=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="MOVABLE_BLOCK_WATER",n}return Object(E.a)(t,e),t}(q),Z=function(e,t){return e.background===a.TUNNEL&&t.background===a.TUNNEL&&e.color===t.color},ee=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="TUNNEL",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLanding",value:function(e,n,a){Object(j.a)(Object(T.a)(t.prototype),"handleLanding",this).call(this,e,n,a);var r=e.board,c=r[a.y][a.x],i=!0;Object(f.each)(r,(function(e,t){return Object(f.each)(e,(function(e,n){if(Z(e,c)&&!p(a,{x:n,y:t,direction:_.UP})&&!e.object)return e.object=c.object,delete c.object,i=!1})),i})),i&&e.pendingTunnels.push(Object(d.a)({},a,{direction:_.UP}))}},{key:"handleTankMove",value:function(e){Object(j.a)(Object(T.a)(t.prototype),"handleTankMove",this).call(this,e);var n=e.board,a=e.tank,r=n[a.y][a.x],c=!0;Object(f.each)(n,(function(e,t){return Object(f.each)(e,(function(e,n){if(Z(e,r)&&!p(a,{x:n,y:t,direction:_.UP})&&!e.object)return a.x=n,a.y=t,c=!1})),c})),c&&e.pendingTunnels.push(Object(d.a)({},a,{direction:_.DOWN}))}},{key:"handleLeaving",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleLeaving",this).call(this,e,n);var a=e.board,r=e.tank,c=e.pendingTunnels,i=Object(f.findIndex)(c,(function(e){var t=e.x,r=e.y,c=e.direction;return Z(a[r][t],a[n.y][n.x])&&c===_.UP})),o=Object(f.findIndex)(c,(function(e){var t=e.x,r=e.y,c=e.direction;return Z(a[r][t],a[n.y][n.x])&&c===_.DOWN}));if(i>-1){var l=c.splice(i,1)[0];if(!p(l,n)){var s=a[l.y][l.x];if(s.object)Object(f.get)(a,[n.y,n.x]).object=s.object,delete s.object}}else if(o>-1){var u=c.splice(o,1)[0];!p(u,n)&&p(r,u)&&m(n,e.board)&&(r.x=n.x,r.y=n.y,e.rendering=!0)}}}]),t}(q),te=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="FLAG",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleTank",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleTank",this).call(this,e,n),e.status="WIN"}},{key:"skipTank",value:function(e){e.status="WIN"}}]),t}(q),ne=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="WATER",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLanding",value:function(e,n,c){Object(j.a)(Object(T.a)(t.prototype),"handleLanding",this).call(this,e,n,c);var i=e.board[c.y][c.x];i.object===r.MOVABLE_BLOCK&&(i.background=a.MOVABLE_BLOCK_WATER),delete i.object}},{key:"handleTank",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleTank",this).call(this,e,n),e.status="FAIL"}},{key:"pending",value:function(e,n,a,r){Object(j.a)(Object(T.a)(t.prototype),"pending",this).call(this,e,n,a,r),this.handleLanding(e,n,a)}},{key:"skipTank",value:function(e){var t=e.board,n=e.prevTank;t[n.y][n.x].background===a.ICE&&this.handleTank(e,!0)}}]),t}(q),ae=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="ICE",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLanding",value:function(e,n,a){Object(j.a)(Object(T.a)(t.prototype),"handleLanding",this).call(this,e,n,a);var r,c=this.getNextTarget(e,n,a,!0);c&&(null===(r=k.getObstacle(e.board[a.y][a.x]))||void 0===r||r.handleMove(e,a,c,!1))}},{key:"handleTank",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleTank",this).call(this,e,n);var a=e.tank,r=e.prevTank,c=A(r,a);c&&k.moveTank(e,g(Object(d.a)({},a,{direction:c})),!1,!1)}},{key:"pending",value:function(e,n,a,r){r&&!this.shouldPending(e,n,a)||Object(j.a)(Object(T.a)(t.prototype),"pending",this).call(this,e,n,a,r)}},{key:"shouldPending",value:function(e,t,n){return!!this.getNextTarget(e,t,n,!1)}},{key:"getNextTarget",value:function(e,t,n,a){var r=A(t,n);if(r){var c=g(Object(d.a)({},n,{direction:r}));if((!a||!p(e.tank,c))&&m(c,e.board))return c}return null}},{key:"shouldSkip",value:function(e,n){var a=Object(f.get)(e.board,[n.y,n.x]),r=k.getBackground(a);return!Boolean(a.object)&&!(r instanceof t)}},{key:"shouldCheckTank",value:function(e,t){var n=e.tank;return!t[n.y][n.x].object}}]),t}(q),re=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="THIN_ICE",n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleLanding",value:function(e,n,a){Object(j.a)(Object(T.a)(t.prototype),"handleLanding",this).call(this,e,n,a),e.board[a.y][a.x].object&&(new ne).handleLanding(e,a,a),e.cleanUp.push(a)}},{key:"cleanUp",value:function(e,t){e.board[t.y][t.x].background=a.WATER}},{key:"shouldPending",value:function(e,t,n){return!0}},{key:"handleTank",value:function(e,n){var r=e.tank,c=e.board,i=Object(d.a)({},r),o=c[i.y][i.x];Object(j.a)(Object(T.a)(t.prototype),"handleTank",this).call(this,e,n),o.background=a.WATER,p(i,e.tank)&&k.getBackground(o).handleTank(e,n)}}]),t}(ae),ce=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="TANK_MOVER_N",n.direction=_.UP,n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleTank",value:function(e,n){Object(j.a)(Object(T.a)(t.prototype),"handleTank",this).call(this,e,n),k.moveTank(e,g(Object(d.a)({},e.tank,{direction:this.direction})),!1,!0)}},{key:"skipTank",value:function(e){k.moveTank(e,g(Object(d.a)({},e.tank,{direction:this.direction})),!1,!0)}},{key:"shouldSkip",value:function(e,n){var a=Object(f.get)(e.board,[n.y,n.x]),r=k.getBackground(a);return!Boolean(a.object)&&!(r instanceof t)}},{key:"shouldCheckTank",value:function(e,t){var n=e.board,a=e.tank;return!n[a.y][a.x].object}}]),t}(q),ie=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="TANK_MOVER_S",n.direction=_.DOWN,n}return Object(E.a)(t,e),t}(ce),oe=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="TANK_MOVER_W",n.direction=_.LEFT,n}return Object(E.a)(t,e),t}(ce),le=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(R.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).css="TANK_MOVER_E",n.direction=_.RIGHT,n}return Object(E.a)(t,e),t}(ce),se={0:{background:a.DIRT},2:{background:a.FLAG},3:{background:a.WATER},4:{object:r.SOLID_BLOCK},5:{object:r.MOVABLE_BLOCK},6:{object:r.BRICKS},7:{object:r.ANTI_TANK_N},8:{object:r.ANTI_TANK_E},9:{object:r.ANTI_TANK_S},10:{object:r.ANTI_TANK_W},11:{object:r.MIRROR_NW},12:{object:r.MIRROR_NE},13:{object:r.MIRROR_SE},14:{object:r.MIRROR_SW},15:{background:a.TANK_MOVER_N},16:{background:a.TANK_MOVER_E},17:{background:a.TANK_MOVER_S},18:{background:a.TANK_MOVER_W},19:{object:r.CRYSTAL_BLOCK},20:{object:r.ROTARY_MIRROR_NW},21:{object:r.ROTARY_MIRROR_NE},22:{object:r.ROTARY_MIRROR_SE},23:{object:r.ROTARY_MIRROR_SW},24:{background:a.ICE},25:{background:a.THIN_ICE}},ue=function(e){var t={board:256,levelName:31,hint:256,author:31,scoreDifficulty:2},n=Object(f.sum)(Object.values(t));return Object(f.map)(Object(f.range)(Math.floor(e.byteLength/n)),(function(a){var r=n*a,c={};return Object(f.map)(t,(function(t,n){c[n]=e.slice(r,r+t),r+=t})),{board:Object(f.chunk)(Array.from(new Uint8Array(c.board)),16),levelName:Object(f.trim)(String.fromCharCode.apply(null,Array.from(new Uint8Array(c.levelName))),"\0"),hint:Object(f.trim)(String.fromCharCode.apply(null,Array.from(new Uint8Array(c.hint))),"\0"),author:Object(f.trim)(String.fromCharCode.apply(null,Array.from(new Uint8Array(c.author))),"\0"),scoreDifficulty:new Uint16Array(c.scoreDifficulty)[0]}}))},de=16;!function(e){e.UP="N",e.DOWN="S",e.LEFT="W",e.RIGHT="E",e.FIRE_UP="0",e.FIRE_DOWN="1",e.FIRE_LEFT="2",e.FIRE_RIGHT="3",e.FIRE=" ",e.UNDO="UNDO",e.PAUSE="PAUSE",e.NEXT_LEVEL="NEXT_LEVEL",e.PREV_LEVEL="PREV_LEVEL",e.PREV_FRAME="PREV_FRAME",e.NEXT_FRAME="NEXT_FRAME",e.HINT="HINT",e.RESTART="RESTART",e.SAVE_POSITION="SAVE_POSITION",e.RESTORE_POSITION="RESTORE_POSITION"}(_||(_={}));var Oe=function(e){return[_.UP,_.DOWN,_.LEFT,_.RIGHT].includes(e)},be=new(function(){function e(){Object(b.a)(this,e),this.record=[],this.history=[],this.frames=[],this.snapshoot=null}return Object(h.a)(e,[{key:"save",value:function(e,t){var n=e.board,a=e.tank,r=e.prevTank,c=e.laser,i=e.pending,o=e.pendingTunnels,l=e.status,s=e.levelIndex;if(t===_.FIRE){var u,d=(u={},Object(O.a)(u,_.UP,_.FIRE_UP),Object(O.a)(u,_.DOWN,_.FIRE_DOWN),Object(O.a)(u,_.LEFT,_.FIRE_LEFT),Object(O.a)(u,_.RIGHT,_.FIRE_RIGHT),u);this.record.push(d[a.direction])}else this.record.push(t);this.history.push({board:n,tank:a,prevTank:r,laser:c,pending:i,pendingTunnels:o,status:l,levelIndex:s})}},{key:"saveFrame",value:function(e){var t=e.board,n=e.tank,a=e.prevTank,r=e.laser,c=e.pending,i=e.pendingTunnels,o=e.status,l=e.levelIndex;this.frames.push({board:t,tank:n,prevTank:a,laser:r,pending:c,pendingTunnels:i,status:o,levelIndex:l})}},{key:"savePosition",value:function(e){var t=e.board,n=e.tank,a=e.prevTank,r=e.laser,c=e.pending,i=e.pendingTunnels,o=e.status,l=e.levelIndex;this.snapshoot={state:{board:t,tank:n,prevTank:a,laser:r,pending:c,pendingTunnels:i,status:o,levelIndex:l},record:this.record}}}]),e}()),he={board:k.createEmptyBoard(),tank:{x:0,y:0,direction:_.UP},prevTank:{x:0,y:0,direction:_.UP},laser:null,pending:[],pendingTunnels:[],status:"PLAYING",cleanUp:[],levelIndex:0,timer:0,rendering:!1,pause:!1,positionSaved:!1,frameIndex:0,levels:[]},fe=Object(v.b)({name:"game",initialState:he,reducers:{loadLevels:function(e,t){var n=t.payload,a=n.levels,r=n.levelIndex;e.levels=a,localStorage.setItem("levels",JSON.stringify(a)),fe.caseReducers.loadLevel(e,je(r))},loadLevel:function(e,t){var n=e.levels,r=t.payload,c=Object(f.get)(n,[r]);if(console.log("".concat(r,": ").concat(be.record.join(""))),c){localStorage.setItem("levelIndex",JSON.stringify(r));var i=function(e){var t=["FB2D0F","36FA0E","1538FF","36FCFF","FFFB0A","F542F9","FFFFFF","A1A1A1"],n=k.createEmptyBoard(),r={x:0,y:0,direction:_.UP};return e.board.forEach((function(e,c){return e.forEach((function(e,i){if(1===e)r.x=c,r.y=i,r.direction=_.UP,n[i][c]={background:a.DIRT};else if(e>63&&e<96)n[i][c]={color:t[(15&e)>>1],background:a.TUNNEL};else{var o=se[e];o||console.log(e),n[i][c]=Object(d.a)({background:a.DIRT},o)}}))})),{board:n,tank:r}}(c),o=i.board,l=i.tank;e.board=o,e.tank=l,e.prevTank=Object(d.a)({},l),e.laser=null,e.pending=[],e.pendingTunnels=[],e.timer=0===e.timer?1:0,e.rendering=!1,e.pause=!1,e.status="PLAYING",e.frameIndex=0,be.record=[],be.frames=[],e.levelIndex!==r&&(be.history=[],be.snapshoot=null,e.levelIndex=r,e.positionSaved=!1)}},undo:function(e){return be.record.pop(),be.frames=[],Object(d.a)({},e,{},be.history.pop(),{timer:e.timer+1,frameIndex:0})},savePosition:function(e){e.positionSaved=!0},restorePosition:function(e){var t,n;return be.record=Object(u.a)((null===(t=be.snapshoot)||void 0===t?void 0:t.record)||[]),be.frames=[],Object(d.a)({},e,{},(null===(n=be.snapshoot)||void 0===n?void 0:n.state)||{},{timer:e.timer+1,frameIndex:0})},setFrame:function(e,t){var n=t.payload;return Object(d.a)({},e,{},be.frames[be.frames.length-1-n],{frameIndex:n,timer:e.timer+1})},moveTank:function(e,t){var n=e.tank,a=t.payload;be.frames=[],n.direction===a?k.moveTank(e,g(n),!0):(n.direction=a,e.prevTank=Object(d.a)({},n)),e.timer+=1,e.rendering="FAIL"!==e.status},fireTank:function(e){var t=e.tank;be.frames=[],e.laser||(e.laser=t,e.rendering=!0,e.timer+=1)},renderFrame:function(e){var t=e.board,n=Object(f.map)(t,(function(e){return Object(f.map)(e,(function(e){return Object(d.a)({},e)}))}));e.rendering=!1,k.checkLaser(e),k.checkPending(e),k.checkTank(e,n),k.cleanUp(e),e.timer+=1,e.rendering="PLAYING"===e.status&&(e.rendering||Boolean(e.laser)||e.pending.length>0)}}}),ve=fe.actions,je=ve.loadLevel,Re=ve.loadLevels,Te=ve.savePosition,Ee=ve.restorePosition,_e=ve.moveTank,pe=ve.fireTank,Ae=function(e){return function(t,n){var a=fe.actions,r=n().game,c=r.tank,i=r.board,o=r.status,l=r.pending,s=r.laser,u=r.levelIndex,d=r.frameIndex;if(e===_.PREV_FRAME)t(a.setFrame(Object(f.min)([d+1,be.frames.length-1])||be.frames.length-1));else if(e===_.NEXT_FRAME)t(a.setFrame(Object(f.max)([d-1,0])||0));else if(e===_.UNDO)t(a.undo());else if(e===_.RESTART)t(je(u));else if(e===_.SAVE_POSITION&&0===d)be.savePosition(r),t(Te());else if(e===_.RESTORE_POSITION)t(Ee());else if(e===_.NEXT_LEVEL)t(je(u+1));else if(e===_.PREV_LEVEL)t(je(u-1));else if(function(e){return Oe(e)||e===_.FIRE}(e))if(d>0)t(a.setFrame(0));else if(0===l.length&&!s&&"PLAYING"===o){var O=g(c);e===_.FIRE?(be.save(r,e),t(pe()),be.saveFrame(r)):Oe(e)&&(c.direction!==e||m(O,i))&&(be.save(r,e),t(_e(e)),be.saveFrame(r))}}},ye=fe,Ne=n(22),me=n.n(Ne),ge=n(27),ke=n(17),Ie=(n(48),i.a.memo((function(e){var t=e.tile,n=e.tileSize;return i.a.createElement("div",{style:{width:n,height:n},className:["board-object",k.getBackgroundCss(t)].filter(Boolean).join(" ")},t.background===a.TUNNEL&&i.a.createElement("div",{style:{background:"transparent",borderRadius:"50%",border:"".concat(n/8,"px solid #").concat(t.color),boxSizing:"border-box"}}),t.object&&i.a.createElement("div",{className:k.getObstacleCss(t)}))}))),Le=i.a.memo((function(e){var t=e.row,n=e.tileSize;return i.a.createElement("div",{className:"row"},Object(f.map)(t,(function(e,t){return i.a.createElement(Ie,{key:t,tile:e,tileSize:n})})))})),xe=function(e){var t;return(t={},Object(O.a)(t,_.UP,"N"),Object(O.a)(t,_.DOWN,"S"),Object(O.a)(t,_.LEFT,"W"),Object(O.a)(t,_.RIGHT,"E"),t)[e]},Se=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(R.a)(this,Object(T.a)(t).call(this,e))).state={limit:0},n.boardRef=i.a.createRef(),n.interval=void 0,Object(f.bindAll)(Object(ke.a)(n),["handleResize"]),n}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.handleResize);var t=["bg0","bg1","bg2"];this.interval=setInterval(Object(ge.a)(me.a.mark((function n(){var a,r,c;return me.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(a=e.boardRef.current)&&(r=a.querySelectorAll([".ANTI_TANK_N",".ANTI_TANK_E",".ANTI_TANK_S",".ANTI_TANK_W",".TANK_MOVER_N",".TANK_MOVER_S",".TANK_MOVER_W",".TANK_MOVER_E",".FLAG",".WATER"].join(", ")),c=t.shift()||"",r.forEach((function(e){var n;(n=e.classList).remove.apply(n,t),e.classList.add(c)})),t.push(c));case 2:case"end":return n.stop()}}),n)}))),600),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),clearInterval(this.interval)}},{key:"handleResize",value:function(){if(this.boardRef.current){var e,t=this.boardRef.current,n=t.offsetWidth,a=t.offsetHeight;this.setState({limit:null!==(e=Object(f.min)([n,a]))&&void 0!==e?e:0})}}},{key:"shouldComponentUpdate",value:function(e,t){return t.limit!==this.state.limit||e.game.timer!==this.props.game.timer}},{key:"render",value:function(){var e=this.props.game,t=this.state.limit,n=e.board,a=e.tank,r=e.laser,c=Math.floor(t/(de+2)),o={width:c,height:c};return i.a.createElement("div",{ref:this.boardRef,className:"Board"},i.a.createElement("div",null,Object(f.map)(["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P"],(function(e,t){return i.a.createElement("div",{key:t,style:{width:c,display:"inline-block"}},e)}))),i.a.createElement("div",{style:{width:c*de,height:c*de,margin:"0 auto"}},Object(f.map)(n,(function(e,t){return i.a.createElement(Le,{key:t,row:e,tileSize:c})})),Object(f.map)(Object(f.range)(de),(function(e){return i.a.createElement("div",{key:e,style:{position:"absolute",verticalAlign:"center",lineHeight:"".concat(c,"px"),left:-c,top:e*c}},e+1)})),i.a.createElement("div",{className:"tank TANK_".concat(xe(a.direction)),style:Object(d.a)({left:a.x*c,top:a.y*c},o)}),r&&i.a.createElement("div",{className:"laser ".concat(xe(r.direction)),style:[_.UP,_.DOWN].includes(r.direction)?Object(d.a)({left:r.x*c+(c/2-2),top:r.y*c},o,{width:4}):Object(d.a)({left:r.x*c,top:r.y*c+(c/2-1)},o,{height:4})})),i.a.createElement("div",null,Object(f.map)(Object(f.range)(0,16),(function(e){return i.a.createElement("div",{key:e,style:{width:c,display:"inline-block"}},e+1)}))))}}]),t}(i.a.Component),Me=function(){var e=Object(s.c)((function(e){return e.game})),t=Object(s.c)((function(e){return e.ui})),n=Object(s.b)(),a=e.status,r=e.levelIndex,o=Object(f.debounce)((function(){return n((function(e,t){e(fe.actions.renderFrame()),be.saveFrame(t().game)}))}),t.renderInterval);return Object(c.useEffect)((function(){var e=function(e){var t={ARROWUP:_.UP,ARROWDOWN:_.DOWN,ARROWLEFT:_.LEFT,ARROWRIGHT:_.RIGHT,U:_.UNDO," ":_.FIRE,P:_.PAUSE}[e.key.toUpperCase()];t&&n(Ae(t))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[n]),Object(c.useEffect)((function(){e.rendering&&!e.pause&&o()}),[o,e]),Object(c.useEffect)((function(){"WIN"===a&&(o.cancel(),n(je(r+1)))}),[n,r,a,o]),i.a.createElement(Se,{game:e})},Fe=n(29),Ke=n(18),De=(n(49),function(){var e=Object(s.b)(),t=Object(c.useState)(null),n=Object(Ke.a)(t,2),a=n[0],r=n[1];return i.a.createElement("div",{className:"MenuBar"},Object(f.map)([{name:"Game",items:[{render:function(){return i.a.createElement("div",null,i.a.createElement("label",null,"Open Data File",i.a.createElement("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:function(t){var n=t.currentTarget.files;(null===n||void 0===n?void 0:n.length)&&function(t){var n=new FileReader;n.onload=function(t){var n,a;(null===(n=t.target)||void 0===n?void 0:n.result)&&e(Re({levels:ue(null===(a=t.target)||void 0===a?void 0:a.result),levelIndex:0}))},n.readAsArrayBuffer(t)}(n[0]),r(null)}})))}}]},{name:"Options",items:[{name:"Animation"}]},{name:"Editor",onClick:function(){r(null)}},{name:"Help",items:[{name:"About"}]}],(function(e,t){var n=e.name,c=Object(Fe.a)(e,["name"]);return i.a.createElement("div",Object.assign({key:t,className:"MenuBarItem ".concat(n===(null===a||void 0===a?void 0:a.menu.name)?"active ":""),onClick:function(t){var n=t.currentTarget,c=n.offsetTop,i=n.offsetHeight,o=n.offsetLeft;r(a?null:{menu:e,top:c+i,left:o})},onMouseEnter:function(t){var n=t.currentTarget,c=n.offsetTop,i=n.offsetHeight,o=n.offsetLeft;a&&r({menu:e,top:c+i,left:o})}},c),n)})),i.a.createElement("ul",{className:"Menu",style:(null===a||void 0===a?void 0:a.menu.items)?{top:a.top,left:a.left}:{display:"none"}},Object(f.map)(null===a||void 0===a?void 0:a.menu.items,(function(e,t){var n=e.name,a=e.render;return i.a.createElement("li",{key:t},a?a():n)}))))}),We=Object(v.b)({name:"game",initialState:{renderInterval:100},reducers:{setRenderInterval:function(e,t){var n=t.payload;n>=0&&n<=1e4&&(e.renderInterval=n)}}}),we=(n(50),We.actions.setRenderInterval),Ce=function(e){var t=e.levels,n=e.onClick;return i.a.createElement("div",{className:"LevelsPopup"},i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Lev #"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Author")),Object(f.map)(t,(function(e,t){return i.a.createElement("tr",{className:t%2===0?"odd":"even",onClick:function(){n(t)}},i.a.createElement("td",null,t+1),i.a.createElement("td",null,e.levelName),i.a.createElement("td",null,e.author))}))))},Be=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.game})),n=Object(s.c)((function(e){return e.ui})),a=Object(c.useState)(!1),r=Object(Ke.a)(a,2),o=r[0],l=r[1],u=t.levelIndex,d=t.levels,O=t.positionSaved,b=t.frameIndex,h=be.record,v=Object(f.get)(d,[u]),j=_.UP,R=0,T=0;Object(f.map)(h,(function(e){Oe(e)?e===j?T+=1:j=e:R+=1}));var E=Object(f.debounce)((function(t){e(we(t))}),500);return i.a.createElement("div",{className:"control-panel"},i.a.createElement("div",{className:"info",style:{position:"relative"}},v&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{position:"absolute",top:39,left:43,height:20,width:93,textAlign:"center",color:"#0df90a"}},u+1),i.a.createElement("div",{style:{position:"absolute",top:95,left:9,height:20,width:160,textAlign:"center",color:"#0df90a",fontSize:v.levelName.length>20?11:14}},v.levelName),i.a.createElement("div",{style:{position:"absolute",top:144,left:9,height:20,width:160,textAlign:"center",color:"#0df90a"}},v.author),i.a.createElement("div",{style:{position:"absolute",top:200,left:20,height:20,width:57,textAlign:"center",color:"#0df90a"}},T),i.a.createElement("div",{style:{position:"absolute",top:200,left:103,height:20,width:57,textAlign:"center",color:"#0df90a"}},R),i.a.createElement("div",null))),i.a.createElement("div",{className:"control"},Object(f.map)([[{name:"Undo",cmd:_.UNDO,disabled:b>0},{name:"Hint",onClick:function(){(null===v||void 0===v?void 0:v.hint)&&alert(null===v||void 0===v?void 0:v.hint)}}],[{name:"Save",disabled:b>0,cmd:_.SAVE_POSITION},{name:"Restore",cmd:_.RESTORE_POSITION,disabled:b>0&&!O}],[{name:"Restart",cmd:_.RESTART},{name:"Load Level",onClick:function(){l(!0)}}],[{name:"<< Level",cmd:_.PREV_LEVEL},{name:"Level >>",cmd:_.NEXT_LEVEL}],[{name:"<< Frame",cmd:_.PREV_FRAME},{name:"Frame >>",cmd:_.NEXT_FRAME,disabled:0===b}]],(function(t,n){return i.a.createElement("div",{key:n},Object(f.map)(t,(function(t,n){var a=t.name,r=t.cmd,c=t.onClick,o=t.disabled;return i.a.createElement("button",{key:n,disabled:o,onClick:function(t){c?c(t):r&&e(Ae(r))}},a)})))})),i.a.createElement("div",{style:{flexDirection:"column",alignItems:"flex-start"}},i.a.createElement("div",null,i.a.createElement("label",{style:{flex:1}},"speed(0 - 10000): ")),i.a.createElement("div",null,i.a.createElement("input",{style:{flex:3},value:n.renderInterval,onChange:function(e){E(Object(f.toNumber)(e.target.value))}}),i.a.createElement("span",null,"ms")))),o&&i.a.createElement(Ce,{levels:d,onClick:function(t){e(je(t)),l(!1)}}))},Pe=function(){var e=Object(s.b)();return Object(c.useEffect)((function(){try{var t,n,a=JSON.parse(null!==(t=localStorage.getItem("levels"))&&void 0!==t?t:""),r=JSON.parse(null!==(n=localStorage.getItem("levelIndex"))&&void 0!==n?n:"0");a&&e(Re({levels:a,levelIndex:r}))}catch(c){alert("failed to load levels: ".concat(c))}}),[e]),i.a.createElement("div",{className:"App"},i.a.createElement(De,null),i.a.createElement("div",{className:"main"},i.a.createElement(Me,null),i.a.createElement(Be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=n(11),Ve=Object(Ue.combineReducers)({game:ye.reducer,ui:We.reducer}),He=Object(v.a)({reducer:Ve});l.a.render(i.a.createElement(s.a,{store:He},i.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.196aadce.chunk.js.map